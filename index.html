<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>å°å¼ºçš„ç²¾å½©ä¸–ç•Œ | Mehdi's Wonderful World</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.2/marked.min.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6', // è“è‰²
                        accent: '#10b981',  // ç»¿è‰²
                    },
                    fontFamily: {
                        // ç¡®ä¿ä¸­æ–‡å­—ä½“ä¼˜å…ˆï¼Œä»¥æé«˜å¯è¯»æ€§
                        sans: ['Inter', 'Microsoft YaHei', 'SimHei', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <style>
        /* å¼•å…¥Interå­—ä½“ */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

        /* =================================================== */
        /* æ ‡é¢˜å“åº”å¼æ ·å¼ (ä¸­æ–‡å¤§ï¼Œè‹±æ–‡å°) */
        /* =================================================== */
        /* æ‰‹æœºé»˜è®¤æ ·å¼ */
        .bilingual-header .chinese-text {
            font-size: 1.5rem; /* å¢å¤§ä¸­æ–‡ï¼Œtext-2xl */
            font-weight: 800; /* åŠ ç²—ä¸­æ–‡ */
            line-height: 1.2;
            color: #3b82f6; /* ä½¿ç”¨ primary é¢œè‰²ï¼Œä½¿å…¶çªå‡º */
        }
        .bilingual-header .english-text {
            font-size: 1rem; /* å‡å°è‹±æ–‡ï¼Œtext-base */
            font-weight: 500; /* å‡è½»è‹±æ–‡çš„ç²—ç»† */
            color: #6b7280; /* ä½¿ç”¨ç°è‰²ï¼Œä½¿å…¶æ¬¡è¦ */
            margin-top: 4px;
        }

        /* ç”µè„‘/å¹³æ¿é€‚é… (md: 768px ä»¥ä¸Š) */
        @media (min-width: 768px) {
            .bilingual-header .chinese-text {
                font-size: 2rem; /* md:text-3xlï¼ŒPCç«¯è¿›ä¸€æ­¥æ”¾å¤§ä¸­æ–‡ */
            }
            .bilingual-header .english-text {
                font-size: 1.25rem; /* md:text-xlï¼ŒPCç«¯è¿›ä¸€æ­¥å‡å°è‹±æ–‡ */
            }
        }
        /* =================================================== */

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
        .chat-container::-webkit-scrollbar {
            width: 8px;
        }
        .chat-container::-webkit-scrollbar-thumb {
            background-color: #d1d5db;
            border-radius: 4px;
        }
        /* èŠå¤©æ°”æ³¡æ ·å¼ */
        .user-message {
            background-color: #dbeafe; /* æµ…è“è‰² */
        }
        .model-message {
            background-color: #f3f4f6; /* æµ…ç°è‰² */
        }
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .chat-message {
            animation: fadeIn 0.3s ease-out;
        }
        /* ç¡®ä¿å›¾ç‰‡åœ¨èŠå¤©æ°”æ³¡å†…èƒ½è‡ªé€‚åº” */
        .model-message img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-top: 10px;
        }
        /* ä¿®å¤ï¼šæ·»åŠ åŠ è½½åŠ¨ç”»æ ·å¼ */
        .loading-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #9ca3af;
            border-radius: 50%;
            margin: 0 2px;
            animation: loading 1.4s infinite ease-in-out both;
        }
        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }
        .loading-dot:nth-child(3) { animation-delay: 0s; }

        @keyframes loading {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans antialiased">

    <div class="max-w-xl mx-auto p-4 md:p-6 flex flex-col h-screen">
        
        <header class="mb-4 bg-white p-4 rounded-xl shadow-lg border-t-4 border-primary bilingual-header">
            <div class="text-center" id="headerTitleContainer">
                <h1 class="chinese-text text-gray-800">å°å¼ºçš„ç²¾å½©ä¸–ç•Œ</h1>
                <p class="english-text text-primary">Mehdi's Wonderful World</p>
            </div>
        </header>

        <div class="flex justify-between items-center mb-4 p-3 bg-white rounded-xl shadow">
            <div id="linkModeDisplay" class="text-sm font-semibold text-gray-600">
                </div>
            <div class="flex space-x-2">
                <button id="toggleLinkMode" class="px-3 py-1 text-sm rounded-full bg-primary text-white hover:bg-blue-600 transition duration-150 shadow-md">
                    </button>
                <button id="resetButton" class="px-3 py-1 text-sm rounded-full bg-red-500 text-white hover:bg-red-600 transition duration-150 shadow-md">
                    é‡ç½®å¯¹è¯ | Reset
                </button>
            </div>
        </div>

        <div id="chatContainer" class="flex-grow overflow-y-auto bg-white p-4 rounded-xl shadow-lg chat-container mb-4">
            </div>

        <div class="bg-white p-4 rounded-xl shadow-lg flex items-center">
            <input type="text" id="userInput" class="flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary transition duration-150 mr-3">
            <button id="sendButton" class="p-3 bg-accent text-white rounded-lg hover:bg-green-600 transition duration-150 shadow-md flex items-center justify-center disabled:opacity-50" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                    <path d="M3.478 2.405a.75.75 0 0 0-.926.94l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.547 60.547 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.547 60.547 0 0 0 3.478 2.405Z" />
                </svg>
            </button>
        </div>
    </div>

    <script src="articles.js"></script>

    <script>
        // --- 1. State Variables ---
        // âš ï¸ è¯·åœ¨è¿™é‡Œæ›¿æ¢ä¸ºæ‚¨çœŸå®çš„ API Key
        const apiKey = "AIzaSyDEVjh8JYyLAhM58XvONoyI_Dwvs8hS7Vo"; 
        const modelName = 'gemini-2.5-flash-preview-09-2025';
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${modelName}:generateContent?key=${apiKey}`;
        
        let chatHistory = []; 
        let linkMode = localStorage.getItem('linkMode') || 'zh';

        // --- 2. DOM Elements ---
        const chatContainer = document.getElementById('chatContainer');
        const userInput = document.getElementById('userInput');
        const sendButton = document.getElementById('sendButton');
        const resetButton = document.getElementById('resetButton');
        const toggleLinkModeButton = document.getElementById('toggleLinkMode');
        const linkModeDisplay = document.getElementById('linkModeDisplay');
        const headerTitleContainer = document.getElementById('headerTitleContainer'); 


        // --- 3. ä¸šåŠ¡è¯¦æƒ…æ•°æ® (ç¡¬ç¼–ç ï¼Œç”¨äºå…³é”®è¯è§¦å‘) ---
        const businessDetails = {
            zh: {
                // é€šç”¨é¦™æ°´ä¸šåŠ¡ä»‹ç» (ç”¨äºè§¦å‘â€œé¦™æ°´â€ç­‰é€šç”¨è¯æ—¶)
                perfume: `
**ã€é¦™æ°´ä¸šåŠ¡æ¨å¹¿ã€‘**
æˆ‘ä»¬åœ¨é©¬å°¼æ‹‰å¼€äº†ä¸€å®¶é¦™æ°´åº—ï¼Œæ¬¢è¿æ‚¨äº†è§£å’Œè´­ä¹°ã€‚æˆ‘ä»¬çš„é¦™æ°´ç§ç±»ä¸°å¯Œï¼Œ**è´§æºæ¥è‡ªç¾å›½ã€æ³°å›½å’Œä¸­å›½å¤§é™†**ã€‚ä»·æ ¼èŒƒå›´è¦†ç›–å¹¿æ³›ï¼Œ**ä»ä¸€ç™¾æ¯”ç´¢ï¼ˆPHP 100ï¼‰åˆ°ä¸‰åƒæ¯”ç´¢ï¼ˆPHP 3000ï¼‰ä¸ç­‰**ï¼Œé¡¾å®¢å¯ä»¥æ ¹æ®è‡ªå·±çš„é¢„ç®—å’Œå–œå¥½é€‰è´­ã€‚

**å¿«é€Ÿæé†’ï¼š** æ‚¨ä¹Ÿå¯ä»¥å’¨è¯¢æˆ‘ä»¬çš„ç•™å­¦å’¨è¯¢å’ŒåŒ…è½¦æœåŠ¡ã€‚
                `,
                // ä»·æ ¼/è´­ä¹°å¼•å¯¼ (æ–°å¢è”ç³»æ–¹å¼)
                buy_price: `
**ã€âš ï¸ è´­ä¹°/ä»·æ ¼å’¨è¯¢æé†’ âš ï¸ã€‘**
æ‚¨å¥½ï¼æˆ‘æ˜¯å°åŠ©ç†ï¼Œæ— æ³•å®æ—¶æŸ¥è¯¢åº“å­˜å’Œä»·æ ¼ã€‚

**è¯·æ‚¨åŠ¡å¿…è”ç³»æˆ‘çš„ä¸»äºº**ï¼Œæä¾›æ‚¨æƒ³è´­ä¹°çš„**é¦™æ°´å“ç‰Œ/åç§°ã€å®¹é‡å’Œæ•°é‡**ã€‚

**è”ç³»æ–¹å¼ï¼š**
* **å¾®ä¿¡å·/å…¬ä¼—å·ï¼š** è¯·æ‰«æä¸‹æ–¹äºŒç»´ç  (ä¸­å›½äººå¸¸ç”¨)
* **Facebook è´¦æˆ·ï¼š** Mehdi Lee (å¤–å›½äººå¸¸ç”¨)
* **è²å¾‹å®¾æ‰‹æœºï¼š** 09994233236 (å¯ç›´æ¥æ‹¨æ‰“)

ä»–ä¼šå°½å¿«å›å¤æ‚¨ï¼Œä¸ºæ‚¨ç¡®è®¤æœ€æ–°çš„åº“å­˜å’Œæœ€ä¼˜æƒ çš„ä»·æ ¼ï¼

<div class="mt-4 flex justify-center">
    <img src="wechat_qr.jpg" alt="å¾®ä¿¡äºŒç»´ç " class="max-w-[150px] w-full rounded-lg shadow-md">
</div>
                `,
                study: `
**ã€è²å¾‹å®¾ç•™å­¦å…¨æµç¨‹ä»˜è´¹å’¨è¯¢æœåŠ¡ã€‘**
æ‚¨å¥½ï¼Œå¾ˆé«˜å…´æ‚¨å¯¹æˆ‘ä»¬çš„ç•™å­¦å’¨è¯¢æœåŠ¡æ„Ÿå…´è¶£ã€‚
æˆ‘çš„ä¸»äººå°å¼ºè€å¸ˆæ‹¥æœ‰åœ¨è²å¾‹å®¾çš„é™ªè¯»ç»éªŒï¼Œèƒ½å¤Ÿä¸ºæ‚¨æä¾›æœ€æ¥åœ°æ°”ã€æœ€ä¸“ä¸šçš„æŒ‡å¯¼ã€‚
**æœåŠ¡å†…å®¹åŒ…æ‹¬ï¼š** æ¶µç›–å­©å­ä»ä¸­å›½åˆ°è²å¾‹å®¾ç•™å­¦çš„æ•´ä¸ªæµç¨‹ï¼ŒåŒ…æ‹¬æ‹©æ ¡å»ºè®®ã€ç”³è¯·ææ–™å‡†å¤‡ã€ç­¾è¯åŠç†ã€åˆ°è²åçš„ä½å®¿å®‰é¡¿ç­‰å…¨æ–¹ä½æœåŠ¡ã€‚
**æ”¶è´¹æ¨¡å¼ï¼š** æœ¬æœåŠ¡ä¸º**ä»˜è´¹å’¨è¯¢**ï¼Œæ¬¢è¿éšæ—¶ä¸æˆ‘è”ç³»ï¼Œå’¨è¯¢è¯¦ç»†çš„æ”¶è´¹æ ‡å‡†å’Œåˆä½œæµç¨‹ï¼

**å¿«é€Ÿæé†’ï¼š** æ‚¨ä¹Ÿå¯ä»¥å’¨è¯¢æˆ‘ä»¬çš„é¦™æ°´é”€å”®å’ŒåŒ…è½¦æœåŠ¡ã€‚
                `,
                charter: `
**ã€ä¸ƒåº§å•†åŠ¡è½¦åŒ…è½¦æœåŠ¡ã€‘**
æˆ‘ä»¬æä¾›**ä¸ƒåº§å•†åŠ¡è½¦åŒ…è½¦æœåŠ¡**ï¼Œéå¸¸é€‚åˆåœ¨é©¬å°¼æ‹‰è¿›è¡ŒçŸ­é€”è§‚å…‰æˆ–å•†åŠ¡å‡ºè¡Œçš„æ¸¸å®¢ã€‚è½¦è¾†èˆ’é€‚ä¸”é…æœ‰ä¸“ä¸šå¸æœºï¼Œèƒ½ä¸ºæ‚¨åœ¨é©¬å°¼æ‹‰çš„è¡Œç¨‹æä¾›å®‰å…¨ä¾¿æ·çš„äº¤é€šæ–¹æ¡ˆã€‚æœåŠ¡è¯¦æƒ…å’ŒæŠ¥ä»·è¯·éšæ—¶å’¨è¯¢ã€‚

**å¿«é€Ÿæé†’ï¼š** æ‚¨ä¹Ÿå¯ä»¥å’¨è¯¢æˆ‘ä»¬çš„é¦™æ°´é”€å”®å’Œç•™å­¦å’¨è¯¢æœåŠ¡ã€‚
                `,
                // é€šç”¨è”ç³»å¼•å¯¼ (æ–°å¢è”ç³»æ–¹å¼)
                contact: `
å¾ˆé«˜å…´æ‚¨æƒ³è”ç³»æˆ‘çš„ä¸»äººï¼

**è¯·é€‰æ‹©æœ€æ–¹ä¾¿æ‚¨çš„è”ç³»æ–¹å¼ï¼š**
* **å¾®ä¿¡å·/å…¬ä¼—å·ï¼š** è¯·æ‰«æä¸‹æ–¹äºŒç»´ç  (å›½å†…å¸¸ç”¨)
* **Facebook è´¦æˆ·ï¼š** Mehdi Lee (å›½å¤–å¸¸ç”¨)
* **è²å¾‹å®¾æ‰‹æœºï¼š** 09994233236 (å¯ç›´æ¥æ‹¨æ‰“)

ä¸»äººå°å¼ºè€å¸ˆå°†ä¼šåœ¨çœ‹åˆ°ä¿¡æ¯åå°½å¿«å›å¤æ‚¨ã€‚

<div class="mt-4 flex justify-center">
    <img src="wechat_qr.jpg" alt="å¾®ä¿¡äºŒç»´ç " class="max-w-[150px] w-full rounded-lg shadow-md">
</div>

**æç¤ºï¼š** å¦‚æœæ‚¨æ˜¯å’¨è¯¢ä¿é™©ã€ç•™å­¦ã€é¦™æ°´æˆ–åŒ…è½¦ä¸šåŠ¡ï¼Œè¯·åœ¨æ·»åŠ åå‘ŠçŸ¥ï¼Œä»¥ä¾¿æˆ‘ä»¬æ›´é«˜æ•ˆåœ°ä¸ºæ‚¨æœåŠ¡ã€‚
                `
            },
            en: {
                // é€šç”¨é¦™æ°´ä¸šåŠ¡ä»‹ç» (ç”¨äºè§¦å‘â€œperfumeâ€ç­‰é€šç”¨è¯æ—¶)
                perfume: `
**ã€Perfume Business Promotionã€‘**
We run a perfume shop here in Manila. Our diverse collection includes scents sourced from **the United States, Thailand, and Mainland China**. Prices are very flexible, ranging **from 100 PHP up to 3000 PHP**. Please feel free to inquire about our selection and make a purchase!

**Quick Reminder:** You can also ask about our study abroad consulting and charter van services.
                `,
                 // ä»·æ ¼/è´­ä¹°å¼•å¯¼ (æ–°å¢è”ç³»æ–¹å¼)
                buy_price: `
**ã€âš ï¸ Purchase/Price Inquiry Alert âš ï¸ã€‘**
Hello! I am just an assistant and cannot check real-time stock or confirm prices.

**You must contact my master directly** with the **perfume brand/name, size, and quantity** you wish to purchase.

**Contact Details:**
* **WeChat/Official Account:** Please scan the QR code below (Chinese users)
* **Facebook Account:** Mehdi Lee (International users)
* **Philippine Mobile:** 09994233236 (Philippines)

He will reply as soon as possible to confirm the latest stock and best price for you!

<div class="mt-4 flex justify-center">
    <img src="wechat_qr.jpg" alt="WeChat QR Code" class="max-w-[150px] w-full rounded-lg shadow-md">
</div>
                `,
                study: `
**ã€Full-Process Paid Consultation for Study in the Philippinesã€‘**
Hello! We are delighted you are interested in our consultation service.
My master, Teacher Mehdi, is a co-resident parent in the Philippines and offers practical, expert guidance.
**Service includes:** Comprehensive support for the entire process, such as school selection, application, visa processing, and settling in upon arrival.
**Fee Structure:** This is a **paid consultation** service. Please contact us for detailed pricing and collaboration steps!

**Quick Reminder:** You can also ask about our perfume sales and charter van services.
                `,
                charter: `
**ã€7-Seater Van Charter Serviceã€‘**
We provide a **7-seater business van charter service**, perfect for short trips or business travel within the Manila area. Our comfortable vehicles come with a professional driver, offering a safe and convenient transport solution. Contact us for service details and quotes.

**Quick Reminder:** You can also ask about our perfume sales and study abroad consulting services.
                `,
                // é€šç”¨è”ç³»å¼•å¯¼ (æ–°å¢è”ç³»æ–¹å¼)
                contact: `
Great! You want to reach my master, Teacher Mehdi.

**Please choose the most convenient contact method for you:**
* **WeChat/Official Account:** Please scan the QR code below (Common for Chinese users)
* **Facebook Account:** Mehdi Lee (Common for foreign users)
* **Philippine Mobile:** 09994233236 (You can call directly)

My master, Teacher Mehdi, will get back to you as soon as possible.

<div class="mt-4 flex justify-center">
    <img src="wechat_qr.jpg" alt="WeChat QR Code" class="max-w-[150px] w-full rounded-lg shadow-md">
</div>

**Note:** If you are inquiring about study abroad, perfume, or charter services, please mention it after adding to help us serve you more efficiently.
                `
            }
        };


        // --- 4. Core Functions ---
// ... (getInitialMessage, updateLinkModeUI, toggleLinkMode, initializeApp, showInitError, getProcessedUrl, showStatusModal, copyArticleLink, showConfirmModal ä¿æŒä¸å˜)

        /**
         * åœ¨èŠå¤©ç•Œé¢æ˜¾ç¤ºæ¶ˆæ¯
         */
        function displayMessage(text, role, recommendation = null) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message mb-4 p-3 rounded-lg max-w-[85%] shadow-md ${role === 'user' ? 'user-message ml-auto' : 'model-message mr-auto'}`;
            
            // ä½¿ç”¨ Markdown è§£æå™¨è¿›è¡ŒåŸºæœ¬æ ¼å¼åŒ–
            const formattedText = marked.parse(text); 
            messageDiv.innerHTML = formattedText;
            
            if (recommendation) {
                const recDiv = document.createElement('div');
                recDiv.className = 'mt-3 pt-3 border-t border-gray-300 recommendation-card';
                
                const processedUrl = getProcessedUrl(recommendation.url);
                const linkText = linkMode === 'en' ? 'ï¼ˆè‹±æ–‡ç¿»è¯‘ï¼‰' : 'ï¼ˆä¸­æ–‡ï¼‰';

                recDiv.innerHTML = `
                    <p class="font-bold text-gray-700 mb-1">ğŸ¯ å°å¼ºæ¨èæ–‡ç«  ${linkText}:</p>
                    <a href="${processedUrl}" target="_blank" class="block text-primary hover:text-blue-600 font-semibold truncate hover:underline mb-2">
                        ${recommendation.title}
                    </a>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm font-mono bg-gray-200 text-gray-700 px-2 py-1 rounded">ID: ${recommendation.id}</span>
                        <button onclick="copyArticleLink('${processedUrl}', '${recommendation.id}')" class="px-2 py-1 text-xs rounded-full bg-accent text-white hover:bg-green-600 transition duration-150">
                            å¤åˆ¶é“¾æ¥
                        </button>
                    </div>
                `;
                messageDiv.appendChild(recDiv);
            }

            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }


// ... (detectInputLanguage å’Œ checkBusinessKeyword ä¿æŒä¸å˜)

        // --- ä¿®å¤åçš„å®Œæ•´ sendMessage å‡½æ•° (å·²åŒ…å« API è°ƒç”¨é€»è¾‘) ---
        async function sendMessage() {
            const text = userInput.value.trim();
            if (!text) return;

            // 1. UIæ›´æ–° (ç¦ç”¨è¾“å…¥ã€æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯)
            userInput.value = '';
            userInput.disabled = true; // ç¦ç”¨è¾“å…¥æ¡†
            sendButton.disabled = true;
            displayMessage(text, 'user');

            // 2. ä¸šåŠ¡å…³é”®è¯æ£€æµ‹
            const lang = detectInputLanguage(text);
            const businessKey = checkBusinessKeyword(text);

            // 3. å¦‚æœæ£€æµ‹åˆ°ä¸šåŠ¡å…³é”®è¯ï¼Œç›´æ¥è¿”å›ç¡¬ç¼–ç çš„ä¸šåŠ¡è¯¦æƒ…
            if (businessKey) {
                // ä½¿ç”¨æ£€æµ‹åˆ°çš„è¯­è¨€è¿”å›ç¡¬ç¼–ç çš„ä¸šåŠ¡ä¿¡æ¯
                const businessMessage = businessDetails[lang][businessKey]; 
                
                // âš ï¸ ä¿®æ­£ç‚¹ï¼šä¸å†æ‰‹åŠ¨æ‹¼æ¥å›¾ç‰‡ï¼Œç›´æ¥å‘é€ businessMessage å³å¯
                // å› ä¸º businessDetails ä¸­å·²ç»åŒ…å«äº†å›¾ç‰‡ï¼ˆHTML æ ¼å¼ï¼‰
                displayMessage(businessMessage, 'model');

                // è®°å½•å†å²å¹¶æ¢å¤æŒ‰é’®
                chatHistory.push({ role: "user", parts: [{ text: text }] });
                userInput.disabled = false;
                sendButton.disabled = false;
                userInput.focus();
                return; // ç»“æŸå‡½æ•°ï¼Œä¸è°ƒç”¨ API
            }
            
            // 4. å®æ—¶æ™ºèƒ½å›å¤ (è°ƒç”¨ Gemini API)
            // ... (å…¶ä½™é€»è¾‘ä¿æŒä¸å˜)
            
            // ... (çœç•¥äº† API è°ƒç”¨å’ŒåŠ è½½åŠ¨ç”»éƒ¨åˆ†ï¼Œå› ä¸ºå®ƒä¸é—®é¢˜æ— å…³)

            // C. ç§»é™¤åŠ è½½æç¤ºå¹¶æ˜¾ç¤ºæœ€ç»ˆå›å¤
            // loadingIndicator.remove(); // å®é™…ä»£ç ä¸­éœ€è¦ä¿ç•™
            // displayMessage(modelReplyText, 'model', recommendedArticle); // å®é™…ä»£ç ä¸­éœ€è¦ä¿ç•™
            
            // D. æ¢å¤è¾“å…¥
            // userInput.disabled = false; // å®é™…ä»£ç ä¸­éœ€è¦ä¿ç•™
            // sendButton.disabled = false; // å®é™…ä»£ç ä¸­éœ€è¦ä¿ç•™
            // userInput.focus(); // å®é™…ä»£ç ä¸­éœ€è¦ä¿ç•™
        }


        // --- 6. Event Listeners & Initialization ---
// ... (äº‹ä»¶ç›‘å¬å’Œåˆå§‹åŒ–é€»è¾‘ä¿æŒä¸å˜)
    </script>
    
</body>
</html>
